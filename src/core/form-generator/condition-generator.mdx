---
name: ConditionGenerator
route: /ConditionGenerator
menu: FormGenerator / 表单生成
---

import { Playground, PropsTable } from 'docz'
import { useState } from 'react'
import { ConditionGenerator } from './';
import { setLangTranslate, setUkeLang } from '../config'

# ConditionGenerator

<PropsTable of={ConditionGenerator} />

<Playground>
  {
    () => {
      let domRef;
      const [lang, setLang] = useState('zh-CN')
      const langMapper = {
        'en-US': {
          '时间': 'Date',
        },
      }
      setLangTranslate(langMapper);
      return (
        <div>
          <span className="btn theme" onClick={e => {
            const nextLang = lang == 'zh-CN' ? 'en-US' : 'zh-CN';
            setUkeLang(nextLang);
            setLang(nextLang)
          }}>{lang}</span>
          <ConditionGenerator
            ref={e => domRef = e}
            onChange={(values, ref, val) => {
              console.log(values)
              if(ref === 'ref1') {
                domRef.changeValue(val, 'ref_for_input')
              }
            }}
            onSubmit={value => {
              console.log(value)
            }}
            conditionConfig={[
              {
                refs: ['startDate', 'endDate'],
                type: 'datetimeRange',
                needTime: true,
                enableTime: true,
                title: '时间',
              },
              {
                ref: 'ref1',
                tips: [123,321,222],
                type: 'radio',
                title: '单选控件',
                values: {
                  value1: 'value1',
                  value2: 'value2',
                  value3: 'value3',
                }
              },
              {
                ref: 'refSelector',
                type: 'select',
                title: '多选控件',
                isMultiple: true,
                isNum: true,
                defaultValue: [1, 2],
                values: {
                  1: 'value1',
                  2: 'value2',
                  3: 'value3',
                }
              },
              {
                ref: 'ref_for_input',
                refForS: 'ref_for_selector',
                type: 'input-selector-s',
                title: '选择输入框',
                values: {
                  value1: 'value1',
                  value2: 'value2',
                  value3: 'value3',
                }
              },
              {
                ref: 'ref2',
                type: 'select',
                title: '选择控件',
                values: {
                  value1: 'value1',
                  value2: 'value2',
                  value3: 'value3',
                }
              },
              {
                refs: ['s', 'e'],
                type: 'input-range',
                title: '范围',
                range: [0, 10]
              },
            ]}>
            <div>
              <button type="submit" className="theme btn flat">查看查询条件的值</button>
              <span className="ml10" onClick={e => domRef.clearValue()} className="theme btn red">清空条件</span>
            </div>
          </ConditionGenerator>
        </div>
      )
    }
  }
</Playground>

查询条件生成器，组合内置的 UI 控件，生成查询条件组合，内置以下控件，通过 type 属性控制

- customForm
- captcha
- select-n
- select
- input-selector
- input-range
- input
- password
- textarea
- ranger
- text
- radio
- button
- datetime
- datetimeRange
