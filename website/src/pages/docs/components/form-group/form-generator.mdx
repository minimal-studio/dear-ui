---
name: FormGenerator
route: /FormGenerator
menu: Form Generator
---

import { Playground, Props } from 'docz'
import { FormGenerator } from '@dear-ui/core/form-generator';
import formOptions from '@dear-ui/core/form-layout/demo/form-options-demo';
import { Captcha } from '@dear-ui/enhance-ui/captcha';

# FormGenerator

## Usage

<Playground>
  {
    () => {
      Captcha.setAPI(
        (callback) => {
          setTimeout(() => {
            callback({
              hasErr: false,
              captchaImage: 'https://cms.marketplace.org/sites/default/files/styles/primary-image-400x222/website/static/captcha.png?itok=JsLPSa66',
              captchaKey: '12412412512513'
            })
          }, 1000);
        }
      )
      let formRef;
      const _formOptions = [
        ...formOptions,
        {
          ref: 'captchCode',
          type: 'customForm',
          keyRef: 'captchKey',
          title: '验证码',
          getCustomFormControl: (onChange) => <Captcha onChange={onChange} />,
        },
      ]
      return (
        <div>
          <div>
            <FormGenerator
              ref={e => formRef = e}
              onChange={(values, ref, val) => {
                console.log(values, ref, val)
              }}
              formOptions={_formOptions}/>
          </div>
          <span className="btn theme mr10" onClick={e => {
              console.log(formRef, formRef.value);
          }}>提交</span>
          <span className="btn red" onClick={e => {
              formRef.clearValue();
          }}>清空表单</span>
        </div>
      )
    }
  }
</Playground>

## Props

<Props of={FormGenerator} />
